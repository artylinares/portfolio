<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Accesibilidad peatonal · Pozuelo</title>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

  <!-- Estilos -->
  <link rel="stylesheet" href="css/style.css" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Plugin datalabels (para mostrar valor + % en el donut) -->
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
</head>

<body>
  <div id="aplicacion" class="aplicacion">
    <!-- Panel lateral -->
    <aside id="panelLateral" class="panel-lateral">
      <header class="panel-lateral__cabecera">
        <h1 class="panel-lateral__titulo">Accesibilidad · Pozuelo</h1>
        <p class="panel-lateral__subtitulo">
          Filtros por sección censal (CUSEC) + indicadores dinámicos
        </p>
      </header>

      <!-- Selección -->
      <section class="tarjeta">
        <h2 class="tarjeta__titulo">Selección de secciones censales</h2>

        <label class="campo__label" for="buscadorCUSEC">Buscar sección (CUSEC)</label>
        <input id="buscadorCUSEC" class="campo__input" type="text" placeholder="Ej: 280..." />

        <!-- Lista de selección múltiple (la rellena el JS) -->
        <div id="listaCUSEC" class="lista-cusec"></div>

        <!-- Toggle “Mostrar solo selección” -->
        <label class="toggle">
          <input id="chkSoloSeleccion" type="checkbox" />
          <span>Mostrar solo selección</span>
        </label>

        <div class="fila-botones">
          <button id="btnSeleccionarTodas" type="button" class="boton">Seleccionar todas</button>
          <button id="btnLimpiarSeleccion" type="button" class="boton">Limpiar selección</button>
        </div>

        <button id="btnResetear" type="button" class="boton boton--secundario">Reset</button>
      </section>

      <!-- Indicadores -->
      <section class="tarjeta">
        <h2 class="tarjeta__titulo">Indicadores</h2>

        <div class="indicador">
          <span class="indicador__label">Secciones incluidas</span>
          <span id="indicadorN" class="indicador__valor">-</span>
        </div>

        <div class="indicador">
          <span class="indicador__label">Población total</span>
          <span id="indicadorPobTotal" class="indicador__valor">-</span>
        </div>

        <div class="indicador">
          <span class="indicador__label">Población ≤ 15 min</span>
          <span id="indicadorPob15" class="indicador__valor">-</span>
        </div>

        <div class="indicador">
          <span class="indicador__label">% población ≤ 15 min</span>
          <span id="indicadorPct15" class="indicador__valor">-</span>
        </div>
      </section>

      <!-- Gráfico -->
      <section class="tarjeta tarjeta--grafico">
        <h2 class="tarjeta__titulo">Distribución</h2>
        <div class="contenedor-grafico">
          <canvas id="graficoAcc"></canvas>
        </div>
      </section>
    </aside>

    <!-- Mapa -->
    <div id="mapa"></div>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
